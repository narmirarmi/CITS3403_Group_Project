<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.png') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Briem+Hand:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
    <title>Should I Buy It?</title>

    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
</head>

<body>
    <div class="navbar">
        <a href="{{ url_for('home.home') }}">
            <h2>Should I Buy It?</h2>
        </a>
        <div class="dropdown">
            <button class="btn btn-custom dropdown-toggle" type="button" data-toggle="dropdown">
                {% if current_user.is_authenticated %}
                Hi {{ current_user.first_name }}
                {% else %}
                Menu
                {% endif %}
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="{{ url_for('profile.profile') }}">Profile</a></li>
                <li><a href="{{ url_for('settings.settings') }}">Settings</a></li>
                <hr class="dropdown-divider">
                <li><a href="{{ url_for('logout.logout') }}">Logout</a></li>
            </ul>
        </div>
    </div>

    <div class="container">
        <p style="margin-top:100px">Edit Profile</p>
        <hr>
        <form method="POST" action="" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="form-group">
                <label for="first_name">First Name:</label>
                <input type="text" class="form-control" id="first_name" name="first_name"
                    value="{{ form.first_name.data }}">
            </div>
            <div class="form-group">
                <label for="last_name">Last Name:</label>
                <input type="text" class="form-control" id="last_name" name="last_name"
                    value="{{ form.last_name.data }}">
            </div>
            <div class="form-group">
                <label for="about">About:</label>
                <textarea class="form-control" id="about" name="about">{{ form.about.data }}</textarea>
            </div>
            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ form.username.data }}">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ form.email.data }}">
            </div>
            <hr>
            <div class="form-group">
                <label for="profile_pic">Profile Picture:</label>
                <input type="file" class="form-control-file" id="profile_pic" name="profile_pic">
                <div class="profile-picture-container">
                    {% if current_user.profile_pic %}
                    <img src="{{ url_for('static', filename='upload_folder/' + current_user.profile_pic) }}"
                        alt="Profile Picture">
                    {% else %}
                    <img src="{{ url_for('static', filename='upload_folder/user-icon.png') }}"
                        alt="Default Profile Picture">
                    {% endif %}
                </div>
            </div>
            <hr>
            <div class="form-group">
                <label for="current_password">Current Password:</label>
                <input type="password" class="form-control" id="current_password" name="current_password">
            </div>
            <div class="form-group">
                <label for="new_password">New Password:</label>
                <input type="password" class="form-control" id="new_password" name="new_password">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm New Password:</label>
                <input type="password" class="form-control" id="confirm_password" name="confirm_password">
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>


</body>

</html>